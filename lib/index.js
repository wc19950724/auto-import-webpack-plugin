#!/usr/bin/env node
"use strict";var e=require("node:buffer"),t=require("node:path"),n=require("node:child_process"),r=require("node:process"),o=require("child_process"),i=require("path"),s=require("fs"),a=require("node:url"),c=require("node:os"),u=require("assert"),l=require("events"),d=require("node:fs"),p=require("buffer"),f=require("stream"),m=require("util"),g=require("node:util"),b=require("node:tty");const h={input:"",output:"auto-import.js",ignorePath:".genaratorignore",resolvers:"element-ui"};var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x,w,T,O,E,S={exports:{}};E="win32"===process.platform||y.TESTING_WINDOWS?function(){if(w)return x;w=1,x=n,n.sync=function(n,r){return t(e.statSync(n),n,r)};var e=s;function t(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var o=n[r].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,n)}function n(n,r,o){e.stat(n,(function(e,i){o(e,!e&&t(i,n,r))}))}return x}():function(){if(O)return T;O=1,T=t,t.sync=function(t,r){return n(e.statSync(t),r)};var e=s;function t(t,r,o){e.stat(t,(function(e,t){o(e,!e&&n(t,r))}))}function n(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return n&parseInt("001",8)||n&c&&o===s||n&a&&r===i||n&(a|c)&&0===i}(e,t)}return T}();var I=C;function C(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){C(e,t||{},(function(e,t){e?r(e):n(t)}))}))}E(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}C.sync=function(e,t){try{return E.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const P="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,A=i,G=P?";":":",R=I,j=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),$=(e,t)=>{const n=t.colon||G,r=e.match(/\//)||P&&e.match(/\\/)?[""]:[...P?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],o=P?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=P?o.split(n):[""];return P&&-1!==e.indexOf(".")&&""!==i[0]&&i.unshift(""),{pathEnv:r,pathExt:i,pathExtExe:o}},B=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:o,pathExtExe:i}=$(e,t),s=[],a=n=>new Promise(((o,i)=>{if(n===r.length)return t.all&&s.length?o(s):i(j(e));const a=r[n],u=/^".*"$/.test(a)?a.slice(1,-1):a,l=A.join(u,e),d=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;o(c(d,n,0))})),c=(e,n,r)=>new Promise(((u,l)=>{if(r===o.length)return u(a(n+1));const d=o[r];R(e+d,{pathExt:i},((o,i)=>{if(!o&&i){if(!t.all)return u(e+d);s.push(e+d)}return u(c(e,n,r+1))}))}));return n?a(0).then((e=>n(null,e)),n):a(0)};var M=B;B.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=$(e,t),i=[];for(let s=0;s<n.length;s++){const a=n[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=A.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let e=0;e<r.length;e++){const n=l+r[e];try{if(R.sync(n,{pathExt:o})){if(!t.all)return n;i.push(n)}}catch(e){}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw j(e)};var N={exports:{}};const L=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};N.exports=L,N.exports.default=L;var _=N.exports;const k=i,D=M,F=_;function U(e,t){const n=e.options.env||process.env,r=process.cwd(),o=null!=e.options.cwd,i=o&&void 0!==process.chdir&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch(e){}let s;try{s=D.sync(e.command,{path:n[F({env:n})],pathExt:t?k.delimiter:void 0})}catch(e){}finally{i&&process.chdir(r)}return s&&(s=k.resolve(o?e.options.cwd:"",s)),s}var q=function(e){return U(e)||U(e,!0)},H={};const Y=/([()\][%!^"`<>&|;, *?])/g;H.command=function(e){return e=e.replace(Y,"^$1")},H.argument=function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(Y,"^$1"),t&&(e=e.replace(Y,"^$1")),e};const V=/^#!(.*)/;const W=s,K=(e="")=>{const t=e.match(V);if(!t)return null;const[n,r]=t[0].replace(/#! ?/,"").split(" "),o=n.split("/").pop();return"env"===o?r:r?`${o} ${r}`:o};const X=i,Z=q,z=H,Q=function(e){const t=Buffer.alloc(150);let n;try{n=W.openSync(e,"r"),W.readSync(n,t,0,150,0),W.closeSync(n)}catch(e){}return K(t.toString())},J="win32"===process.platform,ee=/\.(?:com|exe)$/i,te=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function ne(e){if(!J)return e;const t=function(e){e.file=Z(e);const t=e.file&&Q(e.file);return t?(e.args.unshift(e.file),e.command=t,Z(e)):e.file}(e),n=!ee.test(t);if(e.options.forceShell||n){const n=te.test(t);e.command=X.normalize(e.command),e.command=z.command(e.command),e.args=e.args.map((e=>z.argument(e,n)));const r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}var re=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?r:ne(r)};const oe="win32"===process.platform;function ie(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function se(e,t){return oe&&1===e&&!t.file?ie(t.original,"spawn"):null}var ae={hookChildProcess:function(e,t){if(!oe)return;const n=e.emit;e.emit=function(r,o){if("exit"===r){const r=se(o,t);if(r)return n.call(e,"error",r)}return n.apply(e,arguments)}},verifyENOENT:se,verifyENOENTSync:function(e,t){return oe&&1===e&&!t.file?ie(t.original,"spawnSync"):null},notFoundError:ie};const ce=o,ue=re,le=ae;function de(e,t,n){const r=ue(e,t,n),o=ce.spawn(r.command,r.args,r.options);return le.hookChildProcess(o,r),o}S.exports=de,S.exports.spawn=de,S.exports.sync=function(e,t,n){const r=ue(e,t,n),o=ce.spawnSync(r.command,r.args,r.options);return o.error=o.error||le.verifyENOENTSync(o.status,r),o},S.exports._parse=ue,S.exports._enoent=le;var pe=v(S.exports);function fe(e={}){const{env:t=process.env,platform:n=process.platform}=e;return"win32"!==n?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"}function me({env:e=r.env,...n}={}){const o=fe({env:e={...e}});return n.path=e[o],e[o]=function(e={}){const{cwd:n=r.cwd(),path:o=r.env[fe()],execPath:i=r.execPath}=e;let s;const c=n instanceof URL?a.fileURLToPath(n):n;let u=t.resolve(c);const l=[];for(;s!==u;)l.push(t.join(u,"node_modules/.bin")),s=u,u=t.resolve(u,"..");return l.push(t.resolve(c,i,"..")),[...l,o].join(t.delimiter)}(n),e}const ge=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const o=Object.getOwnPropertyDescriptor(e,n),i=Object.getOwnPropertyDescriptor(t,n);!be(o,i)&&r||Object.defineProperty(e,n,i)},be=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},he=(e,t)=>`/* Wrapped ${e}*/\n${t}`,ye=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),ve=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function xe(e,t,{ignoreNonConfigurable:n=!1}={}){const{name:r}=e;for(const r of Reflect.ownKeys(t))ge(e,t,r,n);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{const r=""===n?"":`with ${n.trim()}() `,o=he.bind(null,r,t.toString());Object.defineProperty(o,"name",ve),Object.defineProperty(e,"toString",{...ye,value:o})})(e,t,r),e}const we=new WeakMap,Te=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,r=0;const o=e.displayName||e.name||"<anonymous>",i=function(...s){if(we.set(i,++r),1===r)n=e.apply(this,s),e=null;else if(!0===t.throw)throw new Error(`Function \`${o}\` can only be called once`);return n};return xe(i,e),we.set(i,r),i};Te.callCount=e=>{if(!we.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return we.get(e)};const Oe=(e,t)=>({name:`SIGRT${t+1}`,number:Ee+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Ee=34,Se=64,Ie=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],Ce=()=>{const e=(()=>{const e=Se-Ee+1;return Array.from({length:e},Oe)})();return[...Ie,...e].map(Pe)},Pe=({name:e,number:t,description:n,action:r,forced:o=!1,standard:i})=>{const{signals:{[e]:s}}=c.constants,a=void 0!==s;return{name:e,number:a?s:t,description:n,supported:a,action:r,forced:o,standard:i}},Ae=({name:e,number:t,description:n,supported:r,action:o,forced:i,standard:s})=>[e,{name:e,number:t,description:n,supported:r,action:o,forced:i,standard:s}],Ge=(()=>{const e=Ce();return Object.fromEntries(e.map(Ae))})(),Re=(e,t)=>{const n=je(e,t);if(void 0===n)return{};const{name:r,description:o,supported:i,action:s,forced:a,standard:c}=n;return{[e]:{name:r,number:e,description:o,supported:i,action:s,forced:a,standard:c}}},je=(e,t)=>{const n=t.find((({name:t})=>c.constants.signals[t]===e));return void 0!==n?n:t.find((t=>t.number===e))};(()=>{const e=Ce(),t=Se+1,n=Array.from({length:t},((t,n)=>Re(n,e)));Object.assign({},...n)})();const $e=({stdout:e,stderr:t,all:n,error:r,signal:o,exitCode:i,command:s,escapedCommand:a,timedOut:c,isCanceled:u,killed:l,parsed:{options:{timeout:d}}})=>{i=null===i?void 0:i;const p=void 0===(o=null===o?void 0:o)?void 0:Ge[o].description,f=(({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:o,exitCode:i,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":void 0!==n?`failed with ${n}`:void 0!==r?`was killed with ${r} (${o})`:void 0!==i?`failed with exit code ${i}`:"failed")({timedOut:c,timeout:d,errorCode:r&&r.code,signal:o,signalDescription:p,exitCode:i,isCanceled:u}),m=`Command ${f}: ${s}`,g="[object Error]"===Object.prototype.toString.call(r),b=g?`${m}\n${r.message}`:m,h=[b,t,e].filter(Boolean).join("\n");return g?(r.originalMessage=r.message,r.message=h):r=new Error(h),r.shortMessage=b,r.command=s,r.escapedCommand=a,r.exitCode=i,r.signal=o,r.signalDescription=p,r.stdout=e,r.stderr=t,void 0!==n&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(c),r.isCanceled=u,r.killed=l&&!c,r},Be=["stdin","stdout","stderr"],Me=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return Be.map((t=>e[t]));if((e=>Be.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Be.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,Be.length);return Array.from({length:n},((e,n)=>t[n]))};var Ne,Le={exports:{}},_e={exports:{}};var ke=y.process;const De=function(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on};if(De(ke)){var Fe,Ue=u,qe=(Ne||(Ne=1,function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(_e)),_e.exports),He=/^win/i.test(ke.platform),Ye=l;"function"!=typeof Ye&&(Ye=Ye.EventEmitter),ke.__signal_exit_emitter__?Fe=ke.__signal_exit_emitter__:((Fe=ke.__signal_exit_emitter__=new Ye).count=0,Fe.emitted={}),Fe.infinite||(Fe.setMaxListeners(1/0),Fe.infinite=!0),Le.exports=function(e,t){if(!De(y.process))return function(){};Ue.equal(typeof e,"function","a callback must be provided for exit handler"),!1===Xe&&Ze();var n="exit";t&&t.alwaysLast&&(n="afterexit");return Fe.on(n,e),function(){Fe.removeListener(n,e),0===Fe.listeners("exit").length&&0===Fe.listeners("afterexit").length&&Ve()}};var Ve=function(){Xe&&De(y.process)&&(Xe=!1,qe.forEach((function(e){try{ke.removeListener(e,Ke[e])}catch(e){}})),ke.emit=Je,ke.reallyExit=ze,Fe.count-=1)};Le.exports.unload=Ve;var We=function(e,t,n){Fe.emitted[e]||(Fe.emitted[e]=!0,Fe.emit(e,t,n))},Ke={};qe.forEach((function(e){Ke[e]=function(){De(y.process)&&(ke.listeners(e).length===Fe.count&&(Ve(),We("exit",null,e),We("afterexit",null,e),He&&"SIGHUP"===e&&(e="SIGINT"),ke.kill(ke.pid,e)))}})),Le.exports.signals=function(){return qe};var Xe=!1,Ze=function(){!Xe&&De(y.process)&&(Xe=!0,Fe.count+=1,qe=qe.filter((function(e){try{return ke.on(e,Ke[e]),!0}catch(e){return!1}})),ke.emit=et,ke.reallyExit=Qe)};Le.exports.load=Ze;var ze=ke.reallyExit,Qe=function(e){De(y.process)&&(ke.exitCode=e||0,We("exit",ke.exitCode,null),We("afterexit",ke.exitCode,null),ze.call(ke,ke.exitCode))},Je=ke.emit,et=function(e,t){if("exit"===e&&De(y.process)){void 0!==t&&(ke.exitCode=t);var n=Je.apply(this,arguments);return We("exit",ke.exitCode,null),We("afterexit",ke.exitCode,null),n}return Je.apply(this,arguments)}}else Le.exports=function(){return function(){}};var tt=v(Le.exports);const nt=(e,t="SIGTERM",n={})=>{const r=e(t);return rt(e,t,n,r),r},rt=(e,t,n,r)=>{if(!ot(t,n,r))return;const o=st(n),i=setTimeout((()=>{e("SIGKILL")}),o);i.unref&&i.unref()},ot=(e,{forceKillAfterTimeout:t},n)=>it(e)&&!1!==t&&n,it=e=>e===c.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),st=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},at=(e,t)=>{e.kill()&&(t.isCanceled=!0)},ct=(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;let o;const i=new Promise(((r,i)=>{o=setTimeout((()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,i)}),t)})),s=r.finally((()=>{clearTimeout(o)}));return Promise.race([i,s])};function ut(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}function lt(e){return ut(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState}const dt=(e,t,r)=>{if("string"==typeof r)return e[t].pipe(d.createWriteStream(r)),e;if(lt(r))return e[t].pipe(r),e;if(!(e=>e instanceof n.ChildProcess&&"function"==typeof e.then)(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!lt(r.stdin))throw new TypeError("The target child process's stdin must be available.");return e[t].pipe(r.stdin),r};var pt={exports:{}};const{PassThrough:ft}=f;const{constants:mt}=p,gt=f,{promisify:bt}=m,ht=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const r="buffer"===n;let o=!1;t?o=!(n||r):n=n||"utf8",r&&(n=null);const i=new ft({objectMode:o});n&&i.setEncoding(n);let s=0;const a=[];return i.on("data",(e=>{a.push(e),o?s=a.length:s+=e.length})),i.getBufferedValue=()=>t?a:r?Buffer.concat(a,s):a.join(""),i.getBufferedLength=()=>s,i},yt=bt(gt.pipeline);class vt extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function xt(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:n}=t,r=ht(t);return await new Promise(((t,o)=>{const i=e=>{e&&r.getBufferedLength()<=mt.MAX_LENGTH&&(e.bufferedData=r.getBufferedValue()),o(e)};(async()=>{try{await yt(e,r),t()}catch(e){i(e)}})(),r.on("data",(()=>{r.getBufferedLength()>n&&i(new vt)}))})),r.getBufferedValue()}pt.exports=xt,pt.exports.buffer=(e,t)=>xt(e,{...t,encoding:"buffer"}),pt.exports.array=(e,t)=>xt(e,{...t,array:!0}),pt.exports.MaxBufferError=vt;var wt=v(pt.exports);const{PassThrough:Tt}=f;var Ot=function(){var e=[],t=new Tt({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=function(){return 0==e.length},t.on("unpipe",r),Array.prototype.slice.call(arguments).forEach(n),t;function n(o){return Array.isArray(o)?(o.forEach(n),this):(e.push(o),o.once("end",r.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function r(n){!(e=e.filter((function(e){return e!==n}))).length&&t.readable&&t.end()}},Et=v(Ot);const St=({input:e,inputFile:t})=>"string"!=typeof t?e:((e=>{if(void 0!==e)throw new TypeError("The `input` and `inputFile` options cannot be both set.")})(e),d.createReadStream(t)),It=async(e,t)=>{if(e&&void 0!==t){e.destroy();try{return await t}catch(e){return e.bufferedData}}},Ct=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e&&n)return t?wt(e,{encoding:t,maxBuffer:r}):wt.buffer(e,{maxBuffer:r})},Pt=(async()=>{})().constructor.prototype,At=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(Pt,e)])),Gt=(e,t)=>{for(const[n,r]of At){const o="function"==typeof t?(...e)=>Reflect.apply(r.value,t(),e):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:o})}},Rt=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],jt=/^[\w.-]+$/,$t=/"/g,Bt=(e,t)=>Rt(e,t).map((e=>(e=>"string"!=typeof e||jt.test(e)?e:`"${e.replace($t,'\\"')}"`)(e))).join(" "),Mt=g.debuglog("execa").enabled,Nt=(e,t)=>String(e).padStart(t,"0"),Lt=(e,{verbose:t})=>{t&&r.stderr.write(`[${(()=>{const e=new Date;return`${Nt(e.getHours(),2)}:${Nt(e.getMinutes(),2)}:${Nt(e.getSeconds(),2)}.${Nt(e.getMilliseconds(),3)}`})()}] ${e}\n`)},_t=(e,n,o={})=>{const i=pe._parse(e,n,o);return e=i.command,n=i.args,(o={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(o=i.options).cwd||r.cwd(),execPath:r.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:Mt,...o}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:o,execPath:i})=>{const s=t?{...r.env,...e}:e;return n?me({env:s,cwd:o,execPath:i}):s})(o),o.stdio=Me(o),"win32"===r.platform&&"cmd"===t.basename(e,".exe")&&n.unshift("/q"),{file:e,args:n,options:o,parsed:i}},kt=(t,n,r)=>"string"==typeof n||e.Buffer.isBuffer(n)?t.stripFinalNewline?function(e){const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===n&&(e=e.slice(0,-1)),e}(n):n:void 0===r?void 0:"";function Dt(e,t,r){const o=_t(e,t,r),i=((e,t)=>Rt(e,t).join(" "))(e,t),s=Bt(e,t);let a;Lt(s,o.options),(({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)})(o.options);try{a=n.spawn(o.file,o.args,o.options)}catch(e){const t=new n.ChildProcess,r=Promise.reject($e({error:e,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:o,timedOut:!1,isCanceled:!1,killed:!1}));return Gt(t,r),t}const c=(e=>new Promise(((t,n)=>{e.on("exit",((e,n)=>{t({exitCode:e,signal:n})})),e.on("error",(e=>{n(e)})),e.stdin&&e.stdin.on("error",(e=>{n(e)}))})))(a),u=ct(a,o.options,c),l=(async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const o=tt((()=>{e.kill()}));return r.finally((()=>{o()}))})(a,o.options,u);a.kill=nt.bind(null,a.kill.bind(a)),a.cancel=at.bind(null,a,{isCanceled:!1});const d=Te((async()=>{const[{error:e,exitCode:t,signal:n,timedOut:r},c,u,d]=await(async({stdout:e,stderr:t,all:n},{encoding:r,buffer:o,maxBuffer:i},s)=>{const a=Ct(e,{encoding:r,buffer:o,maxBuffer:i}),c=Ct(t,{encoding:r,buffer:o,maxBuffer:i}),u=Ct(n,{encoding:r,buffer:o,maxBuffer:2*i});try{return await Promise.all([s,a,c,u])}catch(r){return Promise.all([{error:r,signal:r.signal,timedOut:r.timedOut},It(e,a),It(t,c),It(n,u)])}})(a,o.options,l),p=kt(o.options,c),f=kt(o.options,u),m=kt(o.options,d);if(e||0!==t||null!==n){const c=$e({error:e,exitCode:t,signal:n,stdout:p,stderr:f,all:m,command:i,escapedCommand:s,parsed:o,timedOut:r,isCanceled:!!o.options.signal&&o.options.signal.aborted,killed:a.killed});if(!o.options.reject)return c;throw c}return{command:i,escapedCommand:s,exitCode:0,stdout:p,stderr:f,all:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return((e,t)=>{const n=St(t);void 0!==n&&(ut(n)?n.pipe(e.stdin):e.stdin.end(n))})(a,o.options),a.all=((e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const n=Et();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n})(a,o.options),(e=>{null!==e.stdout&&(e.pipeStdout=dt.bind(void 0,e,"stdout")),null!==e.stderr&&(e.pipeStderr=dt.bind(void 0,e,"stderr")),void 0!==e.all&&(e.pipeAll=dt.bind(void 0,e,"all"))})(a),Gt(a,d),a}var Ft={};function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ft,"__esModule",{value:!0});var Yt=r,Vt=c,Wt=b;const Kt=(e=0)=>t=>`[${t+e}m`,Xt=(e=0)=>t=>`[${38+e};5;${t}m`,Zt=(e=0)=>(t,n,r)=>`[${38+e};2;${t};${n};${r}m`,zt={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Qt=Object.keys(zt.modifier),Jt=Object.keys(zt.color),en=Object.keys(zt.bgColor),tn=[...Jt,...en];const nn=function(){const e=new Map;for(const[t,n]of Object.entries(zt)){for(const[t,r]of Object.entries(n))zt[t]={open:`[${r[0]}m`,close:`[${r[1]}m`},n[t]=zt[t],e.set(r[0],r[1]);Object.defineProperty(zt,t,{value:n,enumerable:!1})}return Object.defineProperty(zt,"codes",{value:e,enumerable:!1}),zt.color.close="[39m",zt.bgColor.close="[49m",zt.color.ansi=Kt(),zt.color.ansi256=Xt(),zt.color.ansi16m=Zt(),zt.bgColor.ansi=Kt(10),zt.bgColor.ansi256=Xt(10),zt.bgColor.ansi16m=Zt(10),Object.defineProperties(zt,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>zt.rgbToAnsi256(...zt.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,r;if(e>=232)t=(10*(e-232)+8)/255,n=t,r=t;else{const o=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(o/6)/5,r=o%6/5}const o=2*Math.max(t,n,r);if(0===o)return 30;let i=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(t));return 2===o&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>zt.ansi256ToAnsi(zt.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>zt.ansi256ToAnsi(zt.hexToAnsi256(e)),enumerable:!1}}),zt}();function rn(e,t=(globalThis.Deno?globalThis.Deno.args:Yt.argv)){const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}const{env:on}=Yt;let sn;function an(e,{streamIsTTY:t,sniffFlags:n=!0}={}){const r=function(){if("FORCE_COLOR"in on)return"true"===on.FORCE_COLOR?1:"false"===on.FORCE_COLOR?0:0===on.FORCE_COLOR.length?1:Math.min(Number.parseInt(on.FORCE_COLOR,10),3)}();void 0!==r&&(sn=r);const o=n?sn:r;if(0===o)return 0;if(n){if(rn("color=16m")||rn("color=full")||rn("color=truecolor"))return 3;if(rn("color=256"))return 2}if("TF_BUILD"in on&&"AGENT_NAME"in on)return 1;if(e&&!t&&void 0===o)return 0;const i=o||0;if("dumb"===on.TERM)return i;if("win32"===Yt.platform){const e=Vt.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in on)return"GITHUB_ACTIONS"in on?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((e=>e in on))||"codeship"===on.CI_NAME?1:i;if("TEAMCITY_VERSION"in on)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(on.TEAMCITY_VERSION)?1:0;if("truecolor"===on.COLORTERM)return 3;if("xterm-kitty"===on.TERM)return 3;if("TERM_PROGRAM"in on){const e=Number.parseInt((on.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(on.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(on.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(on.TERM)||"COLORTERM"in on?1:i}function cn(e,t={}){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(an(e,qt({streamIsTTY:e&&e.isTTY},t)))}rn("no-color")||rn("no-colors")||rn("color=false")||rn("color=never")?sn=0:(rn("color")||rn("colors")||rn("color=true")||rn("color=always"))&&(sn=1);const un={stdout:cn({isTTY:Wt.isatty(1)}),stderr:cn({isTTY:Wt.isatty(2)})};function ln(e,t,n){let r=e.indexOf(t);if(-1===r)return e;const o=t.length;let i=0,s="";do{s+=e.slice(i,r)+t+n,i=r+o,r=e.indexOf(t,i)}while(-1!==r);return s+=e.slice(i),s}const{stdout:dn,stderr:pn}=un,fn=Symbol("GENERATOR"),mn=Symbol("STYLER"),gn=Symbol("IS_EMPTY"),bn=["ansi","ansi","ansi256","ansi16m"],hn=Object.create(null);const yn=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=dn?dn.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,vn.prototype),t};function vn(e){return yn(e)}Object.setPrototypeOf(vn.prototype,Function.prototype);for(const[e,t]of Object.entries(nn))hn[e]={get(){const n=En(this,On(t.open,t.close,this[mn]),this[gn]);return Object.defineProperty(this,e,{value:n}),n}};hn.visible={get(){const e=En(this,this[mn],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const xn=(e,t,n,...r)=>"rgb"===e?"ansi16m"===t?nn[n].ansi16m(...r):"ansi256"===t?nn[n].ansi256(nn.rgbToAnsi256(...r)):nn[n].ansi(nn.rgbToAnsi(...r)):"hex"===e?xn("rgb",t,n,...nn.hexToRgb(...r)):nn[n][e](...r),wn=["rgb","hex","ansi256"];for(const e of wn){hn[e]={get(){const{level:t}=this;return function(...n){const r=On(xn(e,bn[t],"color",...n),nn.color.close,this[mn]);return En(this,r,this[gn])}}};hn["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const r=On(xn(e,bn[t],"bgColor",...n),nn.bgColor.close,this[mn]);return En(this,r,this[gn])}}}}const Tn=Object.defineProperties((()=>{}),qt(qt({},hn),{},{level:{enumerable:!0,get(){return this[fn].level},set(e){this[fn].level=e}}})),On=(e,t,n)=>{let r,o;return void 0===n?(r=e,o=t):(r=n.openAll+e,o=t+n.closeAll),{open:e,close:t,openAll:r,closeAll:o,parent:n}},En=(e,t,n)=>{const r=(...e)=>Sn(r,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(r,Tn),r[fn]=e,r[mn]=t,r[gn]=n,r},Sn=(e,t)=>{if(e.level<=0||!t)return e[gn]?"":t;let n=e[mn];if(void 0===n)return t;const{openAll:r,closeAll:o}=n;if(t.includes(""))for(;void 0!==n;)t=ln(t,n.close,n.open),n=n.parent;const i=t.indexOf("\n");return-1!==i&&(t=function(e,t,n,r){let o=0,i="";do{const s="\r"===e[r-1];i+=e.slice(o,s?r-1:r)+t+(s?"\r\n":"\n")+n,o=r+1,r=e.indexOf("\n",o)}while(-1!==r);return i+=e.slice(o),i}(t,o,r,i)),r+t+o};Object.defineProperties(vn.prototype,hn);const In=vn(),Cn=vn({level:pn?pn.level:0});Ft.Chalk=class{constructor(e){return yn(e)}},Ft.backgroundColorNames=en,Ft.backgroundColors=en,Ft.chalkStderr=Cn,Ft.colorNames=tn,Ft.colors=tn,Ft.default=In,Ft.foregroundColorNames=Jt,Ft.foregroundColors=Jt,Ft.modifierNames=Qt,Ft.modifiers=Qt,Ft.supportsColor=dn,Ft.supportsColorStderr=pn;module.exports=class{#e;#t;#n;#r;constructor(e){e=Object.assign({},e,h),this.#t=e.input,this.#n=e.output,this.#r=e.ignorePath,this.#e=e.resolvers}apply(e){e.hooks.beforeRun.tapAsync("AutoImportPlugin",((e,t)=>{((e,t,n={})=>{try{return Dt(e,t,{stdio:"inherit",...n})}catch(e){return Promise.reject(e)}})("node",["lib/cli.js","-i",this.#t,"-o",this.#n,"-r",this.#e,"-n",this.#r]).finally(t)}))}};
